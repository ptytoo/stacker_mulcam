<div id="RotateXAxisTickText1"></div>
<div id="RotateXAxisTickText2"></div>
<div id="RotateXAxisTickText3"></div>
<div id="RotateXAxisTickText4"></div>
<div id="DonutChart"></div>

<h1>Hot Stacks</h1>

<br>

<%j=0%>
<%@types.each do |type|%>
  <strong><%= type%></strong><br>
  <%for i in 0..4%>
      <%= @stack_trends[i+j]["stack_name"]%><br>
  <%end%>
  <%j+=5%>
<%end%>

<br>
<br>

<% f=0 %>
<%@surveys.each do |survey| %>
  <strong><%= survey%></strong> <br>
  <% for i in 0..9 %>
    <%=@octo_trends[f+i]["content_name"] %>
    <%=@octo_trends[f+i]["content_figure"] %> <br>
    <% end %>
    <% f+=10%>
<% end %>


<script>
  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  })
</script>

<!-- test -->
<script>

// Script
var chart1 = bb.generate({
  "data": {
    "x": "x",
    "columns": [
	["x", "tensorflow/tensorflow", "twbs/bootstrap", "github/gitgnore", "barryclark/jekyll-now",
  "tensorflow/modelst", "vuejs/vue", "facebook/react", "jloro/patchwork", "spring-projects/spring-boo", "torvalds"],
	["values", 24, 15, 10.8, 10.7, 8.3, 8.1, 8, 7.4, 7.4, 6.1]
    ],
    "type": "bar"
  },
  "title": {
         "text": "Ten most-forked projects "
    },
  "axis": {
    "rotated": true,
    "x": {
      "type": "category",
      "tick": {
        "rotate": 75,
        "multiline": false
      },
      "height": 130
    }
  },
  "bindto": "#RotateXAxisTickText1"
});

var chart2 = bb.generate({
  "data": {
    "x": "x",
    "columns": [
	["x", "microsoft/vscode", "facebook/react-native", "npm/npm", "angular/angular-cli",
  "tensorflow/tensorflow", "fortawesome/font-awesome", "angular/angular", "docker/docke", "sjloro/patchwork", "ansible/ansible"],
	["values", 15, 8.8, 7.6, 7.4, 7.3, 6.8, 6, 6, 5.9, 5.9]
    ],
    "type": "bar"
  },
  "title": {
         "text": "projects with the most contributors "
  },
  "axis": {
    "rotated": true,
    "x": {
      "type": "category",
      "tick": {
        "rotate": 75,
        "multiline": false
      },
      "height": 130
    }
  },
  "bindto": "#RotateXAxisTickText2"
});

var chart3 = bb.generate({
  "data": {
    "x": "x",
    "columns": [
	["x", "definitelyped/devinitelytyped", "kubernetes/kubernete", "homebrew/homebrew-core", "ansible/ansible",
  "nodejs/node", "nixos/nixpkgs", "apache/spark", "rust-lang/rust", "symfony/symfony ", "tensorflow/tensorflow"],
	["values", 800, 680, 580, 550, 480, 480, 450, 390, 340, 340]
    ],
    "type": "bar"
  },
  "title": {
         "text": "projects with the most reviews "
  },
  "axis": {
    "rotated": true,
    "x": {
      "type": "category",
      "tick": {
        "rotate": 75,
        "multiline": false
      },
      "height": 130
    }
  },
  "bindto": "#RotateXAxisTickText3"
});

var chart4 = bb.generate({
  "data": {
    "x": "x",
    "columns": [
	["x", "kubernetes/kubernetes", "openshift/origin", "cwm-sw/cmsww", "microsoft/vscode",
  "rust-lang/rust", "dotnet/corex", "tggstation/tgstation", "nodejs/node", "servo/servo", "ansible/ansible"],
	["values", 388.1, 91.1, 80.1, 78.7, 75.6, 75.2, 74.8, 66.3, 54.9, 53.9]
    ],
    "type": "bar"
  },
  "title": {
         "text": "ten most-discussed repositories"
  },
  "axis": {
    "rotated": true,
    "x": {
      "type": "category",
      "tick": {
        "rotate": 75,
        "multiline": false
      },
      "height": 130
    }
  },
  "bindto": "#RotateXAxisTickText4"
});


var chart = bb.generate({
  "data": {
    "columns": [
	["software&internet", 22],
	["financial services", 13],
  ["business services", 10],
  ["manufacturing", 7],
  ["education", 7],
  ["telecom", 5],
  ["healthcare", 5],
  ["entertainment", 4.5],
  ["retail", 4.4],
  ["electronics", 3.9],
  ["etc", 18.2]
    ],
    "type": "donut",
    "onclick": function (d, i) { console.log("onclick", d, i); },
    "onover": function (d, i) { console.log("onover", d, i); },
    "onout": function (d, i) { console.log("onout", d, i); }
  },
  "donut": {
    "title": "not just software"
  },
  "bindto": "#DonutChart"
});
// Script




  //
  // "data": {
  //   "columns": [
	// ["kubernetes/kubernetes", 388.1],
  // ["openshift/origin",91.9],
  // ["cwm-sw/cmsww", 80.1],
  // ["microsoft/vscode", 78.7],
  // ["rust-lang/rust", 75.6],
  // ["dotnet/corex", 75.2],
  // ["tggstation/tgstation", 74.8],
  // ["nodejs/node", 66.3],
  // ["servo/servo ", 54.9],
  // ["ansible/ansible", 53.9]


<!--  -->
</script>
